# Usage: 	sshto <Engine Yard environment name> <server type>
#
# Description:	Open the server belonging to the specific instance type
#		on Engine Yard's EC2. Requires the 'ey' gem.
#
sshto () {
  if [ -z "$1" ] || [ -z "$2" ]; then
    echo "Usage:  sshto <Engine Yard environment name> <server type>"
    exit 1
  fi

  if ! (( $+commands[ey] )); then
	echo "Missing `ey` gem. Please install before continuing.
	exit 1
  fi

  ssh -o StrictHostKeyChecking=no deploy@$( ey servers -e "$1" | grep "$2" | awk "{ print $1 }" ) "$@"
}
